# é˜¶æ®µ 4.6 å®Œæˆæ€»ç»“ - ç­–ç•¥ç»„åµŒå¥—

## âœ… å®Œæˆç›®æ ‡

å®ç°äº†ç­–ç•¥ç»„çš„å¾ªç¯ä¾èµ–æ£€æµ‹ï¼Œæ”¯æŒå®‰å…¨çš„ç­–ç•¥ç»„åµŒå¥—ã€‚

### æ ¸å¿ƒå˜æ›´

1.  **å¾ªç¯æ£€æµ‹ (`ValidateCycles`)**
    *   åˆ›å»ºäº† `internal/policy/validation.go`ï¼Œå®ç°äº† `ValidateCycles` å‡½æ•°ã€‚
    *   ä½¿ç”¨æ·±åº¦ä¼˜å…ˆæœç´¢ (DFS) ç®—æ³•æ£€æµ‹ç­–ç•¥ç»„ä¾èµ–å›¾ä¸­çš„å¾ªç¯ã€‚
    *   å¦‚æœå‘ç°å¾ªç¯ï¼Œä¼šè¿”å›æè¿°æ€§çš„é”™è¯¯è·¯å¾„ï¼ˆä¾‹å¦‚ï¼š`A -> B -> A`ï¼‰ã€‚

2.  **éªŒè¯**
    *   åˆ›å»ºäº† `internal/policy/validation_test.go`ï¼ŒåŒ…å«äº†è¦†ç›–ä»¥ä¸‹åœºæ™¯çš„å•å…ƒæµ‹è¯•ï¼š
        *   æ— å¾ªç¯ï¼ˆåˆæ³•å›¾ï¼‰ã€‚
        *   è‡ªå¼•ç”¨å¾ªç¯ (A -> A)ã€‚
        *   ç®€å•å¾ªç¯ (A -> B -> A)ã€‚
        *   å¤æ‚å¾ªç¯ (A -> B -> D -> A)ã€‚
        *   **çœŸå®ç­–ç•¥ç»„é›†æˆ**: éªŒè¯äº† `SelectGroup` å’Œ `URLTestGroup` èƒ½å¤Ÿæ­£ç¡®å‚ä¸å¾ªç¯æ£€æµ‹ã€‚

### ğŸ“ ä»£ç ç»Ÿè®¡

*   **æ–°å¢æ–‡ä»¶**:
    *   `internal/policy/validation.go`: å¾ªç¯æ£€æµ‹é€»è¾‘ã€‚
    *   `internal/policy/validation_test.go`: å¾ªç¯æ£€æµ‹å•å…ƒæµ‹è¯•ã€‚

## ğŸš€ ä¸‹ä¸€æ­¥

*   **Phase 4.7**: `include-all-proxies` æ”¯æŒã€‚
*   **Phase 8**: ä¸»ç¨‹åºé›†æˆï¼ˆéœ€è¦åœ¨åŠ è½½æ‰€æœ‰ç­–ç•¥ç»„åè°ƒç”¨ `ValidateCycles`ï¼‰ã€‚
